<!DOCTYPE html>
<html>
<head>
  <title>Thailand Election map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
</head>
<body style='margin: 0;'>
  <div id="map" style="width: 100vw; height: 100vh; background: white"></div>

  <script type="text/javascript"  src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script type="text/javascript"  src="https://unpkg.com/leaflet.vectorgrid@1.2.0"></script>
  <!-- <script type="text/javascript" src="../dist/Leaflet.VectorGrid.bundled.js"></script> -->
  <script>
    const map = L.map('map');
    // Custom styling
    // @see http://leaflet.github.io/Leaflet.VectorGrid/vectorgrid-api-docs.html
    const vectorTileStyling = {
      water: {
        fill: true,
        weight: 1,
        fillColor: '#06cccc',
        color: '#06cccc',
        fillOpacity: 0.2,
        opacity: 0.4,
      },
      admin: {
        weight: 1,
        fillColor: 'pink',
        color: 'pink',
        fillOpacity: 0.2,
        opacity: 0.4
      },
      place: {
        weight: 1,
        fillColor: '#f20e93',
        color: '#f20e93',
        fillOpacity: 0.2,
        opacity: 0.4
      },
      poi: {
        weight: 1,
        fillColor: '#3bb50a',
        color: '#3bb50a',
        fillOpacity: 0.2,
        opacity: 0.4
      }
    };

    // base tile layer
    const cartodbAttribution = '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>';
    const positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
      attribution: cartodbAttribution,
      opacity: 1
    }).addTo(map);

    // overlay vector later
    const vectorTileUrl = '/build/vectortile/{z}/{x}-{y}.pbf';
    const vectorTileOptions = {
      rendererFactory: L.canvas.tile,
      vectorTileLayerStyles: vectorTileStyling,
      maxZoom: 20
    };
    var customPbfLayer = L.vectorGrid.protobuf(vectorTileUrl, vectorTileOptions).addTo(map);
    customPbfLayer.addTo(map);

    // config map
    map.setView({ lat: 13.040182144806664, lng: 100.667968750000002 }, 5);
    map.on('zoomend', function() {
      console.log('Zoom: ' + map.getZoom());
    });
  </script>
</body>
</html>
